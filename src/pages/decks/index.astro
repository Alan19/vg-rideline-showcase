---
import {Image} from 'astro:assets';
import {getCollection} from 'astro:content';
import BaseHead from '../../components/BaseHead.astro';
import Footer from '../../components/Footer.astro';
import FormattedDate from '../../components/FormattedDate.astro';
import Header from '../../components/Header.astro';
import {SITE_DESCRIPTION, SITE_TITLE} from '../../consts';
import DeckLink from "../../components/DeckLink.astro";

const posts = (await getCollection('decks'))
---

<!doctype html>
<html lang="en">
<head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION}/>
    <script>
        import "beercss";
        import "material-dynamic-colors";

        ui("theme", "#039fec");
    </script>
</head>
<body>
<Header/>
<main class="responsive">
    {["Dragon Empire", "Keter Sanctuary", "Dark States", "Stoicheia", "Brandt Gate", "Lyrical Monasterio"].map(nation =>
            <section>
                <h4>{nation}</h4>
                <div class="grid">
                    {posts.filter(post => post.data.nation === nation).map(post =>
                            <div class="s3 l2">
                                <DeckLink title={post.data.title} art={post.data['card-art']} id={post.id}/>
                            </div>)}
                </div>
            </section>)}

</main>
<Footer/>
</body>
</html>
